<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    var name = 'global';
    var obj = {
      name: 'local',
      foo: function () {
        this.name = 'foo';
        age = 18;
      }.bind(window)
    };
    var bar = new obj.foo(); // obj.foo 里的 this 指向 bar
    // obj.foo(); 必须要调用才能让 window 的 name 改变为 'foo'
    // console.log(bar);
    console.log(typeof bar); // object
    console.log(bar.__proto__ === obj.foo.prototype); // 结果为 false , 但如果将 .bind(window) 删掉 , 则为 true
    console.log(bar.__proto__.__proto__.__proto__);
    console.log(bar.__proto__.constructor);
    // console.log(bar.__proto__);
    // console.log(obj.foo.prototype);
    setTimeout(function () {
      console.log(window.name); //global
    }, 0);
    console.log(bar.name); //foo
    var bar3 = bar2 = bar;
    bar2.name = 'foo2';
    console.log(bar3.name); //foo2
  </script>
</body>

</html>